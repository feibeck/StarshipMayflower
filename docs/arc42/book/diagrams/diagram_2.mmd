C4Component

    Component(connector, "Connector Server", "Pinus Server Type", "Handles client WebSocket connections, authentication, session binding")
    Component(world, "World Server", "Pinus Server Type", "Manages game state, physics simulation, action processing, broadcasting")

    Component(entry_handler, "Entry Handler", "Pinus Handler", "Player authentication and session creation")
    Component(lobby_handler, "Lobby Handler", "Pinus Handler", "Ship creation, player assignment to ships and stations")
    Component(navigation_handler, "Navigation Handler", "Pinus Handler", "Ship navigation commands (impulse, turn)")
    Component(game_handler, "Game Handler", "Pinus Handler", "Game lifecycle management")

    Component(game_logic, "Game Logic Core", "TypeScript Modules", "Physics simulation, action queue, ship registry, timer/tick")
    Component(action_system, "Action System", "ActionManager + ActionQueue", "Time-based command queuing and execution")
    Component(registries, "Registries", "ShipRegistry + ObjectInSpaceRegistry", "In-memory state management for ships and space objects")
    Component(physics, "Physics Engine", "Vector Mathematics", "Ship movement, rotation, position updates, orthonormalization")
    Component(timer, "Timer/Tick", "setInterval Loop", "10 Hz game loop: action updates, physics, broadcasting")

    Component(models, "Server Models", "TypeScript Classes", "Player, Station, Planet server-side models")
    Component(channel, "Channel", "Broadcasting Utility", "Pushes updates to connected clients via Pinus RPC")

    Rel(connector, entry_handler, "Routes requests")
    Rel(world, lobby_handler, "Routes requests")
    Rel(world, navigation_handler, "Routes requests")
    Rel(world, game_handler, "Routes requests")

    Rel(lobby_handler, registries, "Creates ships, assigns players")
    Rel(navigation_handler, action_system, "Queues navigation commands")
    Rel(timer, action_system, "Updates every tick")
    Rel(timer, physics, "Moves ships every tick")
    Rel(timer, channel, "Broadcasts state every tick")
    Rel(physics, registries, "Reads/updates ship positions")
    Rel(action_system, registries, "Reads ship state")
    Rel(channel, connector, "Pushes to clients via RPC")